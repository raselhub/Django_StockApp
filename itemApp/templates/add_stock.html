{% extends 'base.html' %}
{% block content %}

<h1>Add New Stock..</h1>
<br/>

<form action="{% url 'add_stock' %}" class="d-flex" role="search" method="POST">
    {% csrf_token %}
  <input class="form-control my-2" type="search" placeholder="Add to Portfolio" aria-label="Search"
  name="ticker">
  <button class="btn btn-outline-success my-2" type="submit">Add Stock</button>
</form>

<br/> <br/>

<table class="table table-striped table-hover table-bordered table-dark" >
  <thead class="table-info">
    <tr>
      <th scope="col">Stock Company Name</th>
      <th scope="col">Stock Price</th>
      <th scope="col">Market Cap</th>
      <th scope="col">Previous Volume</th>
      <th scope="col">Stock Symbol</th>
      <th scope="col">YTD Change</th>
      <th scope="col">52-WK Low</th>
      <th scope="col">52-WK High</th>
      <th scope="col">Primary Exchange</th>
      {% comment %} <th scope="col">Delete Stock</th> {% endcomment %}
    </tr>
  </thead>
  <tbody>
{% if ticker %}
    
        {% for list_item in output %}
            <tr>
                  <th scope="row">{{ list_item.companyName }}<th/>
                  ${{ list_item.latestPrice }}<td/>
                  ${{ list_item.marketCap }}<td/>
                  {{ list_item.previousVolume }}<td/>
                  {{ list_item.symbol }}<td/>
                  {{ list_item.ytdChange }}%<td/>
                  ${{ list_item.week52High }}<td/>
                  ${{ list_item.week52Low }}<td/>
                  {{ list_item.primaryExchange }}
                  {% comment %} <a href="/" class="btn btn-danger">Delete</a></td> {% endcomment %}
            </tr>
        {% endfor %}
    

   
  </tbody>
</table><br/>
{% endif %}
{% comment %} {{ ticker }} {% endcomment %}

{% comment %} {% for item in ticker %}
    {{ item }} - <a href="{% url 'delete' item.id %}">
       Delete Stock</a> <br/>
{% endfor %} {% endcomment %}

<br/>
{% comment %} {% for list_item in output %}
    {{ list_item.companyName }} <br/>
    {{ list_item.latestPrice }}<br/>
    {{ list_item.marketCap }}<br/>
    {{ list_item.previousVolume }}<br/>
    {{ list_item.latestVolume }}<br/>
    {{ list_item.previousClose }}<br/>
    {{ list_item.changePercent }}<br/>
    {{ list_item.primaryExchange }}<br/>
    {{ list_item.ytdChange }}<br/>
    {{ list_item.isUSMarketOpen }}<br/>
    {{ list_item.week52High }}<br/>
    {{ list_item.week52Low }}<br/>
    {{ list_item.symbol }}<br/><br/>
    {% endfor %} {% endcomment %}



{% endblock %}